<!DOCTYPE HTML>
<html>
  <head>
  
  </head>
  <body>
    <canvas id="myCanvas" width="800" height="600"></canvas>
    <script>
	//Get canvas and 2d context
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
	
	//the rectangle dimensions
    var rectWidth = 150;
    var rectHeight = 75;
	
	//the move counter, which is what mainly causes the rectangles to shift
    var moveCounter = 1;
	
	//the selected rectangle colour
	var drawColour = 4;
	//the array of possible colours 
	var drawColours = ['rgba(0,0,0,0.1','rgba(255,0,0,0.1)','rgba(255,255,0,0.1)','rgba(0,128,0,0.1)','rgba(0,0,255,0.1)'];
	
	 context.fillStyle = 'black';
	context.fillRect(0, 0, canvas.width,canvas.height);
    // translate context to center of canvas
    context.translate(canvas.width / 2, canvas.height / 2);
	
	//every 100 milliseconds a rectangle is drawn
	setInterval(function(){
	//increment the move counter
    moveCounter++;
    // rotate 45 degrees clockwise
    context.rotate(Math.PI / 4); 
	
	//get the selected draw colour 
    context.fillStyle = drawColours[drawColour];
	
	//draw the rectangle and move it with some math i dont quite understand but made up to see what would happen
    context.fillRect(rectWidth / -2 - moveCounter *0.12, rectHeight / -2 - moveCounter*0.35, rectWidth, rectHeight);
	
	context.strokeStyle = drawColours[drawColour+1];
	//draw the outline of the shape
	context.strokeRect(rectWidth / -2 - moveCounter *0.54, rectHeight / -2 - moveCounter*0.5, rectWidth, rectHeight);},100);
	
	//listen for a mouse click
	canvas.addEventListener('mousedown', function(event){
		//on click increment the counter
		drawColour++;
		if(drawColour > 4)
		{
			//if the end of the array is reached 
			//reset
			drawColour = 0;
		}
	
	
	});
	
	//check if key is pressed
	window.addEventListener('keydown', function(event){
	
	//print the keycode for debug purposes
	console.log(event.keyCode);
	
	//check the keycode and affect the movecounter accordingly
	switch(event.keyCode)
	{
		case 65:{moveCounter += 4; break;}
		case 87:{moveCounter += 15; break;}
		case 68:{moveCounter -= 4; break;}
		case 83:{moveCounter -= 15; break;}
		
	}
	
	},true);
	
    </script>
  </body>
</html>      